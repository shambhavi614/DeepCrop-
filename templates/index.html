<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DeepCrop - Smart Plant Disease Detection</title>

  <!-- Bootstrap + Google Fonts -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    * { font-family: 'Nunito', sans-serif; }

    /* --- Animated Nature Gradient Background --- */
    body {
      background: linear-gradient(-45deg, #b7f399, #8de969, #5dc1b9, #74ebd5);
      background-size: 400% 400%;
      animation: gradientShift 12s ease infinite;
      min-height: 100vh;
      overflow-x: hidden;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* --- Floating Leaves --- */
    .leaf {
      position: absolute;
      background: rgba(255, 255, 255, 0.25);
      border-radius: 50%;
      animation: float 10s linear infinite;
      opacity: 0.4;
    }
    @keyframes float {
      0% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-60px) rotate(180deg); }
      100% { transform: translateY(0) rotate(360deg); }
    }
    .leaf:nth-child(1) { top: 20%; left: 10%; width: 25px; height: 25px; animation-delay: 0s; }
    .leaf:nth-child(2) { top: 50%; left: 30%; width: 15px; height: 15px; animation-delay: 3s; }
    .leaf:nth-child(3) { top: 70%; right: 20%; width: 20px; height: 20px; animation-delay: 5s; }
    .leaf:nth-child(4) { bottom: 10%; left: 60%; width: 18px; height: 18px; animation-delay: 7s; }

    /* --- Splash Screen (Circular Loader + Logo) --- */
    #splash {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: linear-gradient(135deg, #4CAF50, #74ebd5);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      color: white;
      text-align: center;
      transition: opacity 1s ease;
    }
    #splash img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 3px solid white;
      animation: pulse 2s infinite ease-in-out;
    }
    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.1); opacity: 0.8; }
      100% { transform: scale(1); opacity: 1; }
    }
    #splash h1 {
      margin-top: 20px;
      font-weight: 800;
      font-size: 2.5rem;
      letter-spacing: 2px;
    }

    /* --- Navbar --- */
    .navbar {
      background: rgba(0, 60, 40, 0.6);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,0.2);
    }
    .navbar-brand img { height: 50px; border-radius: 10px; }
    .nav-link, .navbar-brand span { color: white !important; font-weight: 600; }
    .language-select {
      background: rgba(255,255,255,0.6);
      border: none;
      border-radius: 6px;
      padding: 3px 8px;
    }

    /* --- Result Card --- */
    .result-card {
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.8);
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
      transition: 0.3s ease;
    }
    .result-card:hover { transform: translateY(-4px); }

    .reason-box {
      background: rgba(144, 238, 144, 0.25);
      border-left: 5px solid #198754;
      border-radius: 8px;
    }

    /* --- Glassmorphic Modal --- */
    .modal-content {
      background: rgba(255,255,255,0.85);
      backdrop-filter: blur(12px);
      border-radius: 15px;
    }

    footer {
      background: rgba(0, 40, 20, 0.8);
      color: white;
      text-align: center;
      padding: 15px 0;
      margin-top: 40px;
      font-weight: 600;
    }
  </style>
</head>

<body>

  <!-- Floating Leaves -->
  <div class="leaf"></div><div class="leaf"></div><div class="leaf"></div><div class="leaf"></div>

  <!-- Splash Screen -->
  <div id="splash">
    <img src="{{ url_for('static', filename='images/logo.jpg') }}" alt="DeepCrop Logo">
    <h1>DeepCrop</h1>
    <p class="text-white">Smart Farming for a Better Tomorrow üåæ</p>
  </div>

  <!-- Main Content -->
  <div id="content" class="d-none">

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark shadow-sm sticky-top">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="#">
          <img src="{{ url_for('static', filename='images/logo.jpg') }}" alt="Logo" class="me-2">
          <span class="fw-bold fs-4" data-translate="brand">DeepCrop</span>
        </a>

        <div class="d-flex align-items-center">
          <select class="language-select" id="language">
            <option value="en">English</option>
            <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
            <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
            <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
            <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
            <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
            <option value="pa">‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä</option>
            <option value="gu">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</option>
            <option value="ml">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</option>
            <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
          </select>

          <button class="btn btn-outline-light ms-3" data-bs-toggle="modal" data-bs-target="#loginModal" data-translate="login">Login</button>
          <button class="btn btn-warning ms-2" data-bs-toggle="modal" data-bs-target="#registerModal" data-translate="register">Register</button>
        </div>
      </div>
    </nav>

    <!-- Upload Section -->
    <div class="container text-center mt-5 mb-5">
      <h2 class="fw-bold mb-4" data-translate="detect_title">üåø Detect Crop Diseases Instantly</h2>

      <form action="/predict" method="POST" enctype="multipart/form-data" class="p-4 border rounded bg-light shadow-sm mx-auto" style="max-width: 1400px;">
        <div class="mb-3">
          <input class="form-control" type="file" name="image" accept="image/*" required>
        </div>
        <button type="submit" class="btn btn-success w-100" data-translate="analyze_btn">Analyze Image</button>
      </form>

      {% if prediction %}
      <div class="result-card mt-5 p-4 border rounded shadow-sm">
        <h4 class="text-success" data-translate="result_title">Prediction Result</h4>
        <p><strong data-translate="disease_label">Disease:</strong> {{ prediction }}</p>
        <p><strong data-translate="confidence_label">Confidence:</strong> {{ confidence }}%</p>

        <div class="reason-box p-3 mt-3">
          <h5 class="text-success mb-2" data-translate="reason_title">üåø Reason</h5>
          <p>{{ reason }}</p>
        </div>

        <img src="{{ image_path }}" alt="Uploaded Image" class="img-fluid mt-3 rounded" style="max-height: 300px;">
        <div class="mt-3">
          <a href="{{ product_link }}" target="_blank" class="btn btn-warning" data-translate="buy_btn">üõí Buy Recommended Product</a>
        </div>
      </div>
      {% endif %}
    </div>

    <!-- Footer -->
    <footer>
      <p class="mb-0" data-translate="footer_text">¬© 2025 DeepCrop | Empowering Indian Farmers üåæ</p>
    </footer>
  </div>

  <!-- Login Modal -->
  <div class="modal fade" id="loginModal" tabindex="-1">
    <div class="modal-dialog"><div class="modal-content">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title" data-translate="login">Login</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label data-translate="email">Email</label>
            <input type="email" class="form-control" required>
          </div>
          <div class="mb-3">
            <label data-translate="password">Password</label>
            <input type="password" class="form-control" required>
          </div>
          <button type="submit" class="btn btn-success w-100" data-translate="login_btn">Login</button>
        </form>
      </div>
    </div></div>
  </div>

  <!-- Register Modal -->
  <div class="modal fade" id="registerModal" tabindex="-1">
    <div class="modal-dialog"><div class="modal-content">
      <div class="modal-header bg-warning text-dark">
        <h5 class="modal-title" data-translate="register">Register</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3"><label data-translate="fullname">Full Name</label><input type="text" class="form-control" required></div>
          <div class="mb-3"><label data-translate="email">Email</label><input type="email" class="form-control" required></div>
          <div class="mb-3"><label data-translate="password">Password</label><input type="password" class="form-control" required></div>
          <button type="submit" class="btn btn-warning w-100 text-dark fw-bold" data-translate="register_btn">Create Account</button>
        </form>
      </div>
    </div></div>
  </div>

  <!-- Scripts -->
  <script>
    // üå± Splash Screen
    window.addEventListener("load", () => {
      setTimeout(() => {
        document.getElementById("splash").style.opacity = "0";
        setTimeout(() => {
          document.getElementById("splash").style.display = "none";
          const content = document.getElementById("content");
          content.classList.remove("d-none");
        }, 1000);
      }, 2500);
    });

    // --- Multi-language translation (22 Indian languages) 
    const translations = { en: { brand: "DeepCrop", detect_title: "üåø Detect Crop Diseases Instantly", analyze_btn: "Analyze Image", result_title: "Prediction Result", disease_label: "Disease:", confidence_label: "Confidence:", reason_title: "üåø Reason", buy_btn: "üõí Buy Recommended Product", footer_text: "¬© 2025 DeepCrop | Empowering Indian Farmers üåæ", login: "Login", register: "Register", email: "Email", password: "Password", fullname: "Full Name", login_btn: "Login", register_btn: "Create Account" }, hi: { brand: "‡§°‡•Ä‡§™‡§ï‡•ç‡§∞‡•â‡§™", detect_title: "üåø ‡§´‡§∏‡§≤ ‡§∞‡•ã‡§ó ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§™‡§π‡§ö‡§æ‡§®‡•á‡§Ç", analyze_btn: "‡§õ‡§µ‡§ø ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡•á‡§Ç", result_title: "‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ", disease_label: "‡§∞‡•ã‡§ó:", confidence_label: "‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏:", reason_title: "üåø ‡§ï‡§æ‡§∞‡§£", buy_btn: "üõí ‡§Ö‡§®‡•Å‡§∂‡§Ç‡§∏‡§ø‡§§ ‡§â‡§§‡•ç‡§™‡§æ‡§¶ ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç", footer_text: "¬© 2025 ‡§°‡•Ä‡§™‡§ï‡•ç‡§∞‡•â‡§™ | ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡§∂‡§ï‡•ç‡§§ ‡§¨‡§®‡§æ‡§®‡§æ üåæ", login: "‡§≤‡•â‡§ó‡§ø‡§®", register: "‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞", email: "‡§à‡§Æ‡•á‡§≤", password: "‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°", fullname: "‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ", login_btn: "‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç", register_btn: "‡§ñ‡§æ‡§§‡§æ ‡§¨‡§®‡§æ‡§è‡§Ç" }, ta: { brand: "‡Æü‡ØÄ‡Æ™‡Øç‡Æï‡Øç‡Æ∞‡Ææ‡Æ™‡Øç", detect_title: "üåø ‡Æ™‡ÆØ‡Æø‡Æ∞‡Øç ‡Æ®‡Øã‡ÆØ‡Øç‡Æï‡Æ≥‡Øà ‡Æâ‡Æü‡Æ©‡Øá ‡Æï‡Æ£‡Øç‡Æü‡Æ±‡Æø‡ÆØ‡Æµ‡ØÅ‡ÆÆ‡Øç", analyze_btn: "‡Æ™‡Æü‡Æ§‡Øç‡Æ§‡Øà ‡Æ™‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡Æï", result_title: "‡ÆÆ‡ØÅ‡Æ©‡Øç‡Æï‡ØÇ‡Æü‡Øç‡Æü‡Æø‡ÆØ ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æµ‡ØÅ", disease_label: "‡Æ®‡Øã‡ÆØ‡Øç:", confidence_label: "‡Æ®‡ÆÆ‡Øç‡Æ™‡Æø‡Æï‡Øç‡Æï‡Øà:", reason_title: "üåø ‡Æï‡Ææ‡Æ∞‡Æ£‡ÆÆ‡Øç", buy_btn: "üõí ‡Æ™‡Æ∞‡Æø‡Æ®‡Øç‡Æ§‡ØÅ‡Æ∞‡Øà‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü ‡Æ§‡ÆØ‡Ææ‡Æ∞‡Æø‡Æ™‡Øç‡Æ™‡Øà ‡Æµ‡Ææ‡Æô‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç", footer_text: "¬© 2025 ‡Æü‡ØÄ‡Æ™‡Øç‡Æï‡Øç‡Æ∞‡Ææ‡Æ™‡Øç | ‡Æá‡Æ®‡Øç‡Æ§‡Æø‡ÆØ ‡Æµ‡Æø‡Æµ‡Æö‡Ææ‡ÆØ‡Æø‡Æï‡Æ≥‡Øà ‡Æµ‡Æ≤‡ØÅ‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡Æ≤‡Øç üåæ", login: "‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æï", register: "‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡Æï", email: "‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øç", password: "‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç", fullname: "‡ÆÆ‡ØÅ‡Æ¥‡ØÅ‡Æ™‡Øç‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç", login_btn: "‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æï", register_btn: "‡Æï‡Æ£‡Æï‡Øç‡Æï‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡ØÅ" }, te: { brand: "‡∞°‡±Ä‡∞™‡±ç‚Äå‡∞ï‡±ç‡∞∞‡∞æ‡∞™‡±ç", detect_title: "üåø ‡∞™‡∞Ç‡∞ü ‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡±Å‡∞≤‡∞®‡±Å ‡∞µ‡±Ü‡∞Ç‡∞ü‡∞®‡±á ‡∞ó‡±Å‡∞∞‡±ç‡∞§‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", analyze_btn: "‡∞ö‡∞ø‡∞§‡±ç‡∞∞‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞µ‡∞ø‡∞∂‡±ç‡∞≤‡±á‡∞∑‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø", result_title: "‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ ‡∞´‡∞≤‡∞ø‡∞§‡∞Ç", disease_label: "‡∞µ‡±ç‡∞Ø‡∞æ‡∞ß‡∞ø:", confidence_label: "‡∞®‡∞Æ‡±ç‡∞Æ‡∞ï‡∞Ç:", reason_title: "üåø ‡∞ï‡∞æ‡∞∞‡∞£‡∞Ç", buy_btn: "üõí ‡∞∏‡∞ø‡∞´‡∞æ‡∞∞‡∞∏‡±Å ‡∞ö‡±á‡∞∏‡∞ø‡∞® ‡∞â‡∞§‡±ç‡∞™‡∞§‡±ç‡∞§‡∞ø ‡∞ï‡±ä‡∞®‡∞Ç‡∞°‡∞ø", footer_text: "¬© 2025 ‡∞°‡±Ä‡∞™‡±ç‚Äå‡∞ï‡±ç‡∞∞‡∞æ‡∞™‡±ç | ‡∞≠‡∞æ‡∞∞‡∞§ ‡∞∞‡±à‡∞§‡±Å‡∞≤‡∞®‡±Å ‡∞∂‡∞ï‡±ç‡∞§‡∞ø‡∞µ‡∞Ç‡∞§‡∞Ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç üåæ", login: "‡∞≤‡∞æ‡∞ó‡∞ø‡∞®‡±ç", register: "‡∞®‡∞Æ‡±ã‡∞¶‡±Å", email: "‡∞à‡∞Æ‡±Ü‡∞Ø‡∞ø‡∞≤‡±ç", password: "‡∞™‡∞æ‡∞∏‡±ç‚Äå‡∞µ‡∞∞‡±ç‡∞°‡±ç", fullname: "‡∞™‡±Ç‡∞∞‡±ç‡∞§‡∞ø ‡∞™‡±á‡∞∞‡±Å", login_btn: "‡∞≤‡∞æ‡∞ó‡∞ø‡∞®‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø", register_btn: "‡∞ñ‡∞æ‡∞§‡∞æ ‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø" }, bn: { brand: "‡¶°‡ßÄ‡¶™‡¶ï‡ßç‡¶∞‡¶™", detect_title: "üåø ‡¶´‡¶∏‡¶≤‡ßá‡¶∞ ‡¶∞‡ßã‡¶ó ‡¶∏‡¶ô‡ßç‡¶ó‡ßá ‡¶∏‡¶ô‡ßç‡¶ó‡ßá ‡¶∂‡¶®‡¶æ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®", analyze_btn: "‡¶õ‡¶¨‡¶ø ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®", result_title: "‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡¶¶‡ßç‡¶¨‡¶æ‡¶£‡ßÄ ‡¶´‡¶≤‡¶æ‡¶´‡¶≤", disease_label: "‡¶∞‡ßã‡¶ó:", confidence_label: "‡¶Ü‡¶∏‡ßç‡¶•‡¶æ:", reason_title: "üåø ‡¶ï‡¶æ‡¶∞‡¶£", buy_btn: "üõí ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡¶æ‡¶¨‡¶ø‡¶§ ‡¶™‡¶£‡ßç‡¶Ø ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®", footer_text: "¬© 2025 ‡¶°‡ßÄ‡¶™‡¶ï‡ßç‡¶∞‡¶™ | ‡¶≠‡¶æ‡¶∞‡¶§‡ßÄ‡¶Ø‡¶º ‡¶ï‡ßÉ‡¶∑‡¶ï‡¶¶‡ßá‡¶∞ ‡¶ï‡ßç‡¶∑‡¶Æ‡¶§‡¶æ‡¶Ø‡¶º‡¶® üåæ", login: "‡¶≤‡¶ó‡¶á‡¶®", register: "‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶®", email: "‡¶á‡¶Æ‡ßá‡¶≤", password: "‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°", fullname: "‡¶™‡ßÅ‡¶∞‡ßã ‡¶®‡¶æ‡¶Æ", login_btn: "‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®", register_btn: "‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®" }, kn: { brand: "‡≤°‡≥Ä‡≤™‡≥ç‚Äå‡≤ï‡≥ç‡≤∞‡≤æ‡≤™‡≥ç", detect_title: "üåø ‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤∞‡≥ã‡≤ó‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤§‡≤ï‡≥ç‡≤∑‡≤£ ‡≤ó‡≥Å‡≤∞‡≥Å‡≤§‡≤ø‡≤∏‡≤ø", analyze_btn: "‡≤ö‡≤ø‡≤§‡≥ç‡≤∞ ‡≤µ‡≤ø‡≤∂‡≥ç‡≤≤‡≥á‡≤∑‡≤ø‡≤∏‡≤ø", result_title: "‡≤≠‡≤µ‡≤ø‡≤∑‡≥ç‡≤Ø‡≤µ‡≤æ‡≤£‡≤ø ‡≤´‡≤≤‡≤ø‡≤§‡≤æ‡≤Ç‡≤∂", disease_label: "‡≤∞‡≥ã‡≤ó:", confidence_label: "‡≤Ü‡≤§‡≥ç‡≤Æ‡≤µ‡≤ø‡≤∂‡≥ç‡≤µ‡≤æ‡≤∏:", reason_title: "üåø ‡≤ï‡≤æ‡≤∞‡≤£", buy_btn: "üõí ‡≤∂‡≤ø‡≤´‡≤æ‡≤∞‡≤∏‡≥Å ‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶ ‡≤â‡≤§‡≥ç‡≤™‡≤®‡≥ç‡≤®‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤ñ‡≤∞‡≥Ä‡≤¶‡≤ø‡≤∏‡≤ø", footer_text: "¬© 2025 ‡≤°‡≥Ä‡≤™‡≥ç‚Äå‡≤ï‡≥ç‡≤∞‡≤æ‡≤™‡≥ç | ‡≤≠‡≤æ‡≤∞‡≤§‡≥Ä‡≤Ø ‡≤∞‡≥à‡≤§‡≤∞ ‡≤∂‡≤ï‡≥ç‡≤§‡≥Ä‡≤ï‡≤∞‡≤£ üåæ", login: "‡≤≤‡≤æ‡≤ó‡≤ø‡≤®‡≥ç", register: "‡≤®‡≥ã‡≤Ç‡≤¶‡≤£‡≤ø", email: "‡≤á‡≤Æ‡≥á‡≤≤‡≥ç", password: "‡≤™‡≤æ‡≤∏‡≥ç‡≤µ‡≤∞‡≥ç‡≤°‡≥ç", fullname: "‡≤™‡≥Ç‡≤∞‡≥ç‡≤£ ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å", login_btn: "‡≤≤‡≤æ‡≤ó‡≤ø‡≤®‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø", register_btn: "‡≤ñ‡≤æ‡≤§‡≥Ü ‡≤∞‡≤ö‡≤ø‡≤∏‡≤ø" }, ml: { brand: "‡¥°‡µÄ‡¥™‡µç‡¥™‡µç‚Äå‡¥ï‡µç‡¥∞‡µã‡¥™‡µç‡¥™‡µç", detect_title: "üåø ‡¥µ‡¥ø‡¥≥ ‡¥∞‡µã‡¥ó‡¥ô‡µç‡¥ô‡µæ ‡¥â‡¥ü‡µª ‡¥§‡¥ø‡¥∞‡¥ø‡¥ö‡µç‡¥ö‡¥±‡¥ø‡¥Ø‡µÅ‡¥ï", analyze_btn: "‡¥ö‡¥ø‡¥§‡µç‡¥∞‡¥Ç ‡¥µ‡¥ø‡¥∂‡¥ï‡¥≤‡¥®‡¥Ç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï", result_title: "‡¥´‡¥≤‡¥Ç ‡¥™‡µç‡¥∞‡¥µ‡¥ö‡¥®‡¥Ç", disease_label: "‡¥∞‡µã‡¥ó‡¥Ç:", confidence_label: "‡¥Ü‡¥§‡µç‡¥Æ‡¥µ‡¥ø‡¥∂‡µç‡¥µ‡¥æ‡¥∏‡¥Ç:", reason_title: "üåø ‡¥ï‡¥æ‡¥∞‡¥£‡¥Ç", buy_btn: "üõí ‡¥∂‡µÅ‡¥™‡¥æ‡µº‡¥∂ ‡¥ö‡µÜ‡¥Ø‡µç‡¥§ ‡¥â‡µΩ‡¥™‡µç‡¥™‡¥®‡µç‡¥®‡¥Ç ‡¥µ‡¥æ‡¥ô‡µç‡¥ô‡µÅ‡¥ï", footer_text: "¬© 2025 ‡¥°‡µÄ‡¥™‡µç‡¥™‡µç‚Äå‡¥ï‡µç‡¥∞‡µã‡¥™‡µç‡¥™‡µç | ‡¥á‡¥®‡µç‡¥§‡µç‡¥Ø‡µª ‡¥ï‡µº‡¥∑‡¥ï‡¥∞‡µÜ ‡¥∂‡¥ï‡µç‡¥§‡¥ø‡¥™‡µç‡¥™‡µÜ‡¥ü‡µÅ‡¥§‡µç‡¥§‡µÅ‡¥®‡µç‡¥®‡µÅ üåæ", login: "‡¥≤‡µã‡¥ó‡¥ø‡µª", register: "‡¥∞‡¥ú‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡µº", email: "‡¥á‡¥Æ‡µÜ‡¥Ø‡¥ø‡µΩ", password: "‡¥™‡¥æ‡¥∏‡µç‚Äå‡¥µ‡µá‡¥°‡µç", fullname: "‡¥™‡µÇ‡µº‡¥£‡µç‡¥£ ‡¥™‡µá‡¥∞‡µç", login_btn: "‡¥≤‡µã‡¥ó‡¥ø‡µª ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï", register_btn: "‡¥Ö‡¥ï‡µç‡¥ï‡µó‡¥£‡µç‡¥ü‡µç ‡¥∏‡µÉ‡¥∑‡µç‡¥ü‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï" }, mr: { brand: "‡§°‡•Ä‡§™‡§ï‡•ç‡§∞‡•â‡§™", detect_title: "üåø ‡§™‡§ø‡§ï‡§æ‡§Ç‡§ö‡•á ‡§∞‡•ã‡§ó ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§ì‡§≥‡§ñ‡§æ", analyze_btn: "‡§™‡•ç‡§∞‡§§‡§ø‡§Æ‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡§æ", result_title: "‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ", disease_label: "‡§∞‡•ã‡§ó:", confidence_label: "‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏:", reason_title: "üåø ‡§ï‡§æ‡§∞‡§£", buy_btn: "üõí ‡§∂‡§ø‡§´‡§æ‡§∞‡§∏ ‡§ï‡•á‡§≤‡•á‡§≤‡•á ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§® ‡§ñ‡§∞‡•á‡§¶‡•Ä ‡§ï‡§∞‡§æ", footer_text: "¬© 2025 ‡§°‡•Ä‡§™‡§ï‡•ç‡§∞‡•â‡§™ | ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§∂‡•á‡§§‡§ï‡§±‡•ç‡§Ø‡§æ‡§Ç‡§®‡§æ ‡§∏‡§ï‡•ç‡§∑‡§Æ ‡§ï‡§∞‡§£‡•á üåæ", login: "‡§≤‡•â‡§ó‡§ø‡§®", register: "‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä ‡§ï‡§∞‡§æ", email: "‡§à‡§Æ‡•á‡§≤", password: "‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°", fullname: "‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡§æ‡§µ", login_btn: "‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡§æ", register_btn: "‡§ñ‡§æ‡§§‡•á ‡§§‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§æ" }, gu: { brand: "‡™°‡´Ä‡™™‡™ï‡´ç‡™∞‡´ã‡™™", detect_title: "üåø ‡™™‡™æ‡™ï‡™®‡™æ ‡™∞‡´ã‡™ó‡´ã‡™®‡´á ‡™§‡™∞‡™§ ‡™ì‡™≥‡™ñ‡´ã", analyze_btn: "‡™õ‡™¨‡´Ä‡™®‡´Å‡™Ç ‡™µ‡™ø‡™∂‡´ç‡™≤‡´á‡™∑‡™£ ‡™ï‡™∞‡´ã", result_title: "‡™Ö‡™®‡´Å‡™Æ‡™æ‡™® ‡™™‡™∞‡™ø‡™£‡™æ‡™Æ", disease_label: "‡™∞‡´ã‡™ó:", confidence_label: "‡™µ‡™ø‡™∂‡´ç‡™µ‡™æ‡™∏:", reason_title: "üåø ‡™ï‡™æ‡™∞‡™£", buy_btn: "üõí ‡™≠‡™≤‡™æ‡™Æ‡™£ ‡™ï‡™∞‡´á‡™≤ ‡™â‡™§‡´ç‡™™‡™æ‡™¶‡™® ‡™ñ‡™∞‡´Ä‡™¶‡´ã", footer_text: "¬© 2025 ‡™°‡´Ä‡™™‡™ï‡´ç‡™∞‡´ã‡™™ | ‡™≠‡™æ‡™∞‡™§‡´Ä‡™Ø ‡™ñ‡´á‡™°‡´Ç‡™§‡´ã‡™®‡´á ‡™∏‡™∂‡™ï‡´ç‡™§ ‡™¨‡™®‡™æ‡™µ‡™µ‡´Å‡™Ç üåæ", login: "‡™≤‡´ã‡™ó‡™ø‡™®", register: "‡™®‡´ã‡™Ç‡™ß‡™£‡´Ä", email: "‡™á‡™Æ‡´á‡™á‡™≤", password: "‡™™‡™æ‡™∏‡™µ‡™∞‡´ç‡™°", fullname: "‡™™‡´Ç‡™∞‡´ç‡™£ ‡™®‡™æ‡™Æ", login_btn: "‡™≤‡´ã‡™ó‡™ø‡™® ‡™ï‡™∞‡´ã", register_btn: "‡™ñ‡™æ‡™§‡´Å‡™Ç ‡™¨‡™®‡™æ‡™µ‡´ã" }, pa: { brand: "‡®°‡©Ä‡®™‡®ï‡®∞‡®æ‡®™", detect_title: "üåø ‡®´‡®∏‡®≤ ‡®¨‡®ø‡®Æ‡®æ‡®∞‡©Ä‡®Ü‡®Ç ‡®®‡©Ç‡©∞ ‡®§‡©Å‡®∞‡©∞‡®§ ‡®™‡®õ‡®æ‡®£‡©ã", analyze_btn: "‡®§‡®∏‡®µ‡©Ä‡®∞ ‡®¶‡®æ ‡®µ‡®ø‡®∂‡®≤‡©á‡®∏‡®º‡®£ ‡®ï‡®∞‡©ã", result_title: "‡®≠‡®µ‡®ø‡©±‡®ñ‡®¨‡®æ‡®£‡©Ä ‡®®‡®§‡©Ä‡®ú‡®æ", disease_label: "‡®¨‡®ø‡®Æ‡®æ‡®∞‡©Ä:", confidence_label: "‡®≠‡®∞‡©ã‡®∏‡®æ:", reason_title: "üåø ‡®ï‡®æ‡®∞‡®®", buy_btn: "üõí ‡®∏‡®ø‡®´‡®æ‡®∞‡®∏‡®º‡©Ä ‡®â‡®§‡®™‡®æ‡®¶ ‡®ñ‡®∞‡©Ä‡®¶‡©ã", footer_text: "¬© 2025 ‡®°‡©Ä‡®™‡®ï‡®∞‡®æ‡®™ | ‡®≠‡®æ‡®∞‡®§‡©Ä ‡®ï‡®ø‡®∏‡®æ‡®®‡®æ‡®Ç ‡®®‡©Ç‡©∞ ‡®∏‡®∏‡®º‡®ï‡®§ ‡®ï‡®∞‡®®‡®æ üåæ", login: "‡®≤‡®æ‡®ó‡®á‡®®", register: "‡®∞‡®ú‡®ø‡®∏‡®ü‡®∞", email: "‡®à‡®Æ‡©á‡®≤", password: "‡®™‡®æ‡®∏‡®µ‡®∞‡®°", fullname: "‡®™‡©Ç‡®∞‡®æ ‡®®‡®æ‡®Æ", login_btn: "‡®≤‡®æ‡®ó‡®á‡®® ‡®ï‡®∞‡©ã", register_btn: "‡®ñ‡®æ‡®§‡®æ ‡®¨‡®£‡®æ‡®ì" }, or: { brand: "‡¨°‡¨ø‡¨™‡≠ç‚Äå‡¨ï‡≠ç‡¨∞‡¨™‡≠ç", detect_title: "üåø ‡¨´‡¨∏‡¨≥ ‡¨∞‡≠ã‡¨ó ‡¨§‡≠Å‡¨∞‡¨®‡≠ç‡¨§ ‡¨ö‡¨ø‡¨π‡≠ç‡¨®‡¨ü ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å", analyze_btn: "‡¨õ‡¨¨‡¨ø ‡¨¨‡¨ø‡¨∂‡≠ç‡¨≥‡≠á‡¨∑‡¨£ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å", result_title: "‡¨™‡≠Ç‡¨∞‡≠ç‡¨¨‡¨æ‡¨®‡≠Å‡¨Æ‡¨æ‡¨® ‡¨´‡¨≥‡¨æ‡¨´‡¨≥", disease_label: "‡¨∞‡≠ã‡¨ó:", confidence_label: "‡¨Ü‡¨§‡≠ç‡¨Æ‡¨¨‡¨ø‡¨∂‡≠ç‡≠±‡¨æ‡¨∏:", reason_title: "üåø ‡¨ï‡¨æ‡¨∞‡¨£", buy_btn: "üõí ‡¨™‡¨∞‡¨æ‡¨Æ‡¨∞‡≠ç‡¨∂‡¨ø‡¨§ ‡¨â‡¨§‡≠ç‡¨™‡¨æ‡¨¶ ‡¨ï‡¨ø‡¨£‡¨®‡≠ç‡¨§‡≠Å", footer_text: "¬© 2025 ‡¨°‡¨ø‡¨™‡≠ç‚Äå‡¨ï‡≠ç‡¨∞‡¨™‡≠ç | ‡¨≠‡¨æ‡¨∞‡¨§‡≠Ä‡≠ü ‡¨ö‡¨æ‡¨∑‡≠Ä‡¨ô‡≠ç‡¨ï‡≠Å ‡¨∏‡¨∂‡¨ï‡≠ç‡¨§ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ üåæ", login: "‡¨≤‡¨ó‡¨ø‡¨®‡≠ç", register: "‡¨∞‡≠á‡¨ú‡¨ø‡¨∑‡≠ç‡¨ü‡¨∞", email: "‡¨á‡¨Æ‡≠á‡¨≤‡≠ç", password: "‡¨™‡¨æ‡¨∏‡≠±‡¨æ‡¨∞‡≠ç‡¨°", fullname: "‡¨™‡≠Ç‡¨∞‡≠ç‡¨£‡≠ç‡¨£ ‡¨®‡¨æ‡¨Æ", login_btn: "‡¨≤‡¨ó‡¨ø‡¨®‡≠ç ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å", register_btn: "‡¨ñ‡¨æ‡¨§‡¨æ ‡¨∏‡≠É‡¨∑‡≠ç‡¨ü‡¨ø ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å" } };
    document.getElementById("language").addEventListener("change", function () {
      const lang = this.value;
      const elements = document.querySelectorAll("[data-translate]");
      elements.forEach(el => {
        const key = el.getAttribute("data-translate");
        if (translations[lang] && translations[lang][key]) {
          el.textContent = translations[lang][key];
        } else {
          el.textContent = translations["en"][key];
        }
      });
    });

    const diseaseReasons = { "Apple Scab": "Caused by the fungus *Venturia inaequalis*. It thrives in cool, moist conditions and affects young leaves and fruits, leaving dark spots.", "Black Rot": "A fungal disease caused by *Guignardia bidwellii*, often due to wet and humid weather or poor air circulation around plants.", "Cedar Apple Rust": "Occurs due to *Gymnosporangium juniperi-virginianae* fungus, spreading between apple and cedar trees in moist conditions.", "Powdery Mildew": "Caused by *Erysiphe necator*, this fungus grows in dry climates with high humidity and poor ventilation.", "Leaf Blight": "Caused by bacterial or fungal pathogens thriving in warm, humid conditions; often spread through infected water or tools.", "Bacterial Spot": "Triggered by *Xanthomonas campestris*, spreading rapidly in wet conditions via rain splash or contaminated tools.", "Early Blight": "Affects tomato and potato plants, caused by *Alternaria solani*. It appears due to prolonged wetness and high humidity.", "Late Blight": "Caused by *Phytophthora infestans*, spreading rapidly in cool, wet conditions. Often results from over-irrigation.", "Leaf Mold": "Caused by *Passalora fulva* fungus, thriving in high humidity and poor air circulation within greenhouses or dense crops.", "Septoria Leaf Spot": "Caused by *Septoria lycopersici* and spread by rain splash; occurs in warm, humid conditions with poor crop rotation.", "Target Spot": "Triggered by *Corynespora cassiicola*, appearing due to high humidity and infected plant debris left in the field.", "Tomato Mosaic Virus": "A viral infection spreading through contact or contaminated tools. Often due to infected seeds or soil.", "Tomato Yellow Leaf Curl Virus": "Spread by whiteflies in hot climates; plants become stunted with yellow, curled leaves.", "Healthy": "No disease detected! Your crop is in good condition. Maintain regular watering and balanced fertilizer use to keep it healthy üå±." };
    const reasonBox = document.querySelector(".reason-box p");
    const diseaseTextElement = document.querySelector(".result-card p strong");
    if (reasonBox && diseaseTextElement) {
      let predictedText = diseaseTextElement.nextSibling?.textContent?.trim() || "";
      predictedText = predictedText.replace(/_/g, " ").trim();
      let foundReason = null;
      for (const key in diseaseReasons) {
        if (predictedText.toLowerCase().includes(key.toLowerCase())) {
          foundReason = diseaseReasons[key];
          break;
        }
      }
      reasonBox.textContent = foundReason || "Reason information not available.";
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
